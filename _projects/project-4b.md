---
title: Project 4 Search Engine
navbar: Guides
layout: guides
key: 4.2
bump: false

tags:
  - text: 'Pending'
    type: 'is-muted'

assignments:
  - text: 'Project 4 Search Engine'
    link: 'https://usfca.instructure.com/courses/1602551/assignments/7118300'
---

For this project, you will extend your [previous project](project-4a.html) to create a search engine web interface using embedded Jetty and servlets.

**This writeup is for the search engine functionality only.** See the general [Project 4 Writeup](project-4.html) for more details.

## Eligibility
{: .page-header }

The eligibility requirements for this project are the same [design eligibility](design.html#eligibility) requirements of the previous projects. Specifically:

  - You must have a non-zero design grade for [project 3](project-3.html) on [Canvas]({{ site.data.info.links.canvas.link }}).

  - You must have a non-zero functionality grade for [project 4a](project-4a.html) on [Canvas]({{ site.data.info.links.canvas.link }}).

If you are missing a grade you should already have, please reach out to us on the [course forums]({{ site.data.info.links.forums.link }}).

## Functionality
{: .page-header }

The functionality for this project is broken into 2 parts: core functionality and extra features. **You must complete the core functionality before attempting extra functionality.**

### Core Functionality

In addition to maintaining the functionality of the [previous project](project-4a.html), your code must support the following core features using embedded Jetty and servlets for a total of 30 points:

  - **5 points:** Display a web page with a form that includes (at a minimum) a text box where users may enter a multi-word search query and a button to submit that query to the web server.

  - **5 points:** When the web form button is clicked, send the queries to a Jetty servlet and process those queries to match how the data is stored by your inverted index.

  - **10 points:** After processing the queries, the servlet should retrieve the partial search results of those queries from the index generated by the `Driver` class.

  - **10 points:** The servlet should return the partial search results to the client (or web browser) as dynamically generated HTML with sorted and clickable links.

You cannot earn credit for additional features until the core functionality is working properly.

### Additional Functionality

Once the core functionality is complete, you may implement up to 70 points worth of additional features. These features are broken into several categories. You may choose any combination of features from these categories.

Have a feature idea? You can propose an extra feature in a public post on the course forums. If approved, the instructor will post the number of points that feature will be worth on the final project.

Pending





### Potential Deductions

There will be a brief review of your code for this project. If you have implemented additional functionality and your implementations have any of the following issues, points may be deducted from your the project grade:

| Points | Potential Deduction |
|:------:|:--------------------|
| -10 | **Multi-User Support:** Deducted if your code does not support multi-user search. Users conducting search simultaneously should see results relevant to their own queries only. |
|  -5 | **Cross-Site Scripting (XSS) Vulnerabilities:** Deducted if your code does not protect against cross-site scripting (XSS) attacks. Escape or sanitize any data from a user (either via the HTTP request or a database) prior to using it on an HTML page. |
|  -5 | **SQL Injection Vulnerabilities:** Deducted if your code does not protect against SQL injection attacks. Use prepared statements where appropriate anytime it accesses a database. |
|  -5 | **Poor Encapsulation:** Deducted if your code breaks encapsulation. |
|  -5 | **Poor Code Style:** Deducted if your code is not professional. Use professional formatting, variable names, Javadoc, exception handling, and address all compiler warnings. |
{: .table .is-hoverable }

While there are many ways to lose points, the total possible deduction is capped such that no more than 15 points total will be removed from your project grade due to the above issues.

### Extra Credit

Pending

## Input
{: .page-header }

Your main method must be placed in a class named `Driver`. The `Driver` class should accept the following **additional** command-line arguments:

  - `-server port` where `-server` indicates a search engine web server should be launched and the next argument `port` is the port the web server should use to accept socket connections. Use `8080` as the default value if it is not provided.

    If the `-server` flag is provided, your code should **enable multithreading** with the default number of worker threads even if the `-threads` flag is not provided.

The command-line flag/value pairs may be provided in any order, and the order provided is not the same as the order you should perform the operations (i.e. always build the index before performing search, even if the flags are provided in the other order).

Your code should support all of the command-line arguments from the [previous project](project-4a.html) as well.

## Output
{: .page-header }

The output of your inverted index and search results should be the same from the [previous project](project-4a.html). As before, you should **only generate output files if the necessary flags are provided**.

## Testing
{: .page-header }

**There are no functionality tests for this project.** Instead, you will demonstrate your search engine functionality to the instructor during your [final code review](final-review.html) appointment during finals week.

## Related Content
{: .page-header }

The following content from this semester may be helpful in completing this project:

  - The `ServletBasics` and `ServletData` lecture code illustrates how to use embedded Jetty and servlets to create a basic web interface.

  - The `HeaderServer` homework assignment illustrates how to use web forms with embedded Jetty and servlets.

  - The `Sessions` lecture code illustrates how to enable user tracking (optional).

  - `JDBC` lecture code illustrates how to connect servlets to a SQL database on campus (optional).

It is strongly recommended to pass all of the homework tests before integrating them into your projects.

## Hints
{: .page-header }

It is important to develop the project iteratively. Some considerations to make while developing are:

  - Start with using `GET` requests for basic search functionality.

  - Using `POST` requests are usually only useful for user tracking features, and it is possible to implement those features using only `GET` as well.

  - To ensure multi-user support, avoid static and instance members for storing anything related to search queries and results in your servlets.

The important part will be to test your code as you go. Use the JUnit tests provided for previous projects to come up with your own test cases.
